global:
  scrape_interval: 15s      # Default scrape interval for all job
  evaluation_interval: 15s  # Default evaluation interval for rules

rule_files:
  - /etc/prometheus/rules/ml_alerts.yml  # Path to alert rules file 

scrape_configs:
  - job_name: 'ml-app'
    scrape_interval: 5s     # Scrape every 5 seconds
    static_configs:
      - targets: ['ml-app:5001']  # Target for the ML API

  - job_name: 'prometheus'
    scrape_interval: 10s   # Scrape every 10 seconds
    static_configs:
      - targets: ['localhost:9090'] # Target for Prometheus itself

  - job_name: 'model-training'
    scrape_interval: 5s     # Scrape every 5 seconds
    metrics_path: /metrics  # PAth where the metrics are exposed
    static_configs:
      - targets: ['train:8003'] # Target for the model training service
  
  - job_name: 'regression_monitor'
    scrape_interval: 5s
    static_configs:
      - targets: ['localhost:8004'] # Target for the regression monitoring service


